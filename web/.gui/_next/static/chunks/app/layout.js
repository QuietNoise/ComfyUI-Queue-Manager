(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{4233:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_2b89fc",variable:"__variable_2b89fc"}},5427:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_1479a9",variable:"__variable_1479a9"}},6042:(e,a,t)=>{Promise.resolve().then(t.bind(t,8861))},8861:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var s=t(5155),n=t(4233),l=t.n(n),r=t(5427),i=t.n(r);t(9324);var o=t(2115);function c(e){let{data:a,isLoading:t,error:n}=e;if(console.log("Queue data: ",a,t,n),n)return(0,s.jsxs)("p",{className:"text-red-500",children:["Queue load failed: ",n.message]});if(t)return(0,s.jsx)("p",{children:"Loading queueâ€¦"});if(!a||!a.running&&!a.pending)return(0,s.jsx)("p",{className:"italic",children:"Queue is empty."});let l=a.pending?[...a.pending].sort((e,a)=>e[0]-a[0]):[],r=a.running?[...a.running].sort((e,a)=>e[0]-a[0]):[];function i(e){let{item:a}=e;return(0,s.jsxs)("tr",{className:"odd:bg-neutral-900",children:[(0,s.jsx)("td",{className:"px-3 py-1",children:a[0]}),(0,s.jsx)("td",{className:"px-3 py-1 break-all",children:a[1]}),(0,s.jsx)("td",{className:"px-3 py-1 text-center",children:a[3].extra_pnginfo.workflow.id})]})}return(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full border border-neutral-600",children:[(0,s.jsx)("thead",{className:"bg-neutral-800 text-xs uppercase",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"#"}),(0,s.jsx)("th",{className:"px-3 py-2 text-left",children:"Prompt ID"}),(0,s.jsx)("th",{className:"px-3 py-2",children:"Workflow ID"})]})}),(0,s.jsxs)("tbody",{children:[r.map(e=>(0,s.jsx)(i,{item:e},e[0])),l.map(e=>(0,s.jsx)(i,{item:e},e[0]))]})]})})}function d(e){let{children:a}=e,[t,n]=(0,o.useState)({loading:!1,error:null,data:null});return(0,o.useEffect)(()=>{let e=async()=>{n({loading:!0,error:null,data:null});try{let e=await fetch("".concat("/","queue_manager/queue"));if(!e.ok)throw Error("Network response was not ok");let a=await e.json();n({loading:!1,error:null,data:a}),console.log("Queue items:",a)}catch(e){n({loading:!1,error:e.message,data:null}),console.error("Error fetching queue items:",e)}};e(),window.addEventListener("message",a=>{"QM_queueStatusUpdated"===a.data.type&&(console.log("QM_queueStatusUpdated",a.data),e())})},[]),(0,s.jsxs)("html",{lang:"en",children:[(0,s.jsxs)("head",{children:[(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("title",{children:"Queue Manager"}),(0,s.jsx)("meta",{name:"description",content:"ComfyUI Queue Manager frontend"})]}),(0,s.jsx)("body",{className:"".concat(l().variable," ").concat(i().variable),children:(0,s.jsx)(c,{data:t.data,error:t.error,isLoading:t.isLoading})})]})}},9324:()=>{}},e=>{var a=a=>e(e.s=a);e.O(0,[261],()=>a(6042)),_N_E=e.O()}]);